<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manny The Elephant</title>
    <link
      href="Assets/Favicon/hero Icon.png"
      rel="shortcut icon"
      type="image/x-icon"
    />
    <link href="Assets/Favicon/hero Icon-1.png" rel="apple-touch-icon" />
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-interactivity@latest/dist/lottie-interactivity.min.js"></script>

    <link rel="stylesheet" href="styles.css" />
  </head>
  <body style="margin: 0; background-color: rgb(246, 220, 200)">
    <div id="loader"></div>
    <div class="titlediv" id="titlediv">
      <div class="lottiewrapper">
        <lottie-player
          id="titlelottie"
          class="titlelottie"
          src="Assets/Title Screen/Title Animation.json"
          background="transparent"
          @load="incrementCounter"
        ></lottie-player>
      </div>
    </div>
    <div class="fullscreencaption">
      <p class="f2text1">
        On a bright sunny day in the jungle, Manny the elephant was feeling
        lonely and wanted to make friends as he had none. He spots a rabbit,
        monkey and frog playing ball.
      </p>
    </div>
    <div class="f2div" id="f2div">
      <div class="lottiewrapper" onmousedown="footballsound.play()">
        <lottie-player
          id="f2lottie"
          class="f2lottie"
          src="Assets/Frame 2/Frame 2.json"
          @load="incrementCounter"
        ></lottie-player>
      </div>
    </div>

    <script>
      let loadedAnimations = 0;
      const totalAnimations = 2; // Update this with the total number of animations
      const loader = document.getElementById("loader");

      function incrementCounter() {
        loadedAnimations++;
        if (loadedAnimations === totalAnimations) {
          loader.style.display = "none";
        }
      }
      LottieInteractivity.create({
        player: "#titlelottie",
        mode: "scroll",
        container: "#titlediv",
        actions: [
          {
            visibility: [0, 0.3],
            type: "stop",
            frames: [0],
          },
          {
            visibility: [0.3, 1.0],
            type: "seek",
            frames: [0, 120],
          },
        ],
      });

      LottieInteractivity.create({
        player: "#f2lottie",
        mode: "scroll",
        container: "#f2div",
        actions: [
          {
            visibility: [0, 0.2],
            type: "stop",
            frames: [0],
          },
          {
            visibility: [0.2, 0.55],
            type: "seek",
            frames: [0, 72],
          },
        ],
      });

      LottieInteractivity.create({
        player: "#f2lottie",
        mode: "chain",
        container: "#f2div",

        actions: [
          {
            state: "click",
            frames: [72, 84],
            transition: "onComplete",
          },
          {
            state: "click",
            frames: [84, 96],
            transition: "onComplete",
          },
          {
            state: "click",
            frames: [96, 108],
            transition: "onComplete",
          },
          {
            state: "click",
            frames: [72, 84],
            transition: "onComplete",
          },
          {
            state: "click",
            frames: [84, 96],
            transition: "onComplete",
          },
          {
            state: "click",
            frames: [96, 108],
            transition: "onComplete",
          },
        ],
      });
    </script>
  </body>
</html>
